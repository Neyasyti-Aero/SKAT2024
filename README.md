# SKAT2024
Репозиторий для выполнения требований к подготовке производственного отчета команды НЕЯСЫТИ АЭРО, принявшей участие в СКАТ 2024

# Файлы
Схемы плат представлены в формате SchDoc (Altium Designer). Для их просмотра можно использовать online-инструмент [Altium Viewer](https://www.altium.com/viewer/)

# Полетный контроллер Стриж
Три платы (верхняя, ПР1803Н, и нижняя) полетного контроллера STRIZH соеденяются между собой посредством двухрядных межплатных разъемов с шагом 1.27 мм.

## Верхняя плата
Плата, содержащая микроконтроллер и датчики с системой их термостабилизации. Для питания датчиков (3.3 В) предназначен отдельный линейный регулятор напряжения КФ1158Н, на вход которого подается напряжение 5 В с нижней платы.

На плате один разъем типа picoblade для подключения отладчика-программатора (SWD), и одно USB Type-C гнездо для подключения к наземной станции (ПК с конфигуратором). Гнездо Type-C также может быть использовано для программирования (для входа в DFU-режим необходимо нажать кнопку BOOT на нижней плате при подаче питания).

Среди интегральных микросхем на плате, помимо датчиков и микроконтроллера, внешняя Nor-flash память (подключение к МК - SPI), а также трансивер CAN-интерфейса.

Для световой индикации используются 3 светодиода.

Список датчиков:
- QMC5883L (компас)
- BMM150 (компас)
- BMI055 (IMU)
- BMI270 (IMU)
- QMI8658 (IMU)
- BMP388 (барометр)
- BMP280 (барометр)

Их характеристики приводятся в тексте производственного отчета.

IMU-датчики полетного контроллера STRIZH помещены в корпус малых размеров (термостат, на схеме не показан), внутри которого за счет обогрева резисторами поддерживается постоянная температура (обратная связь – резистивные делители напряжения с термисторами в нижнем плече, термисторы расположены вблизи датчиков). Таким образом, система термостатирования представляет из себя замкнутую систему автоматического регулирования, в качестве устройства управления выступает микроконтроллер: программно реализован ПИ-регулятор температуры внутри термостата. Повышение отказоустойчивости системы в целом достигается за счет двойного-тройного резервирования всех критически важных составляющих её элементов. Отказ датчика обнаруживается микроконтроллером при отсутствии от соответствующего датчика (в течение заданного тайм-аута) ответа на управляющий байт во время операции чтения.

## ПР1803Н
Плата с навигационно-связным модулем ПР1803Н. Питание (4.2 В) подается с нижней платы. Подключен к микроконтроллеру через межплатный разъем (UART)

ПР1803Н - навигационно-связной модуль, в разработанном полетном контроллере Стриж используется для передачи телеметрии через сотовую связь, а также для мультисистемного (GPS, ГЛОНАСС, BeiDou, Galileo) позиционирования. Рабочий частотный диапазон: B1 (LTE FDD). Частота передачи: от 1920 до 1980 МГц. Частота приема: от 2110 до 2170 МГц.

## Нижняя плата
Плата используется для подачи питания на верхнюю плату (5 В), плату с ПР1803Н (4.2 В), сервоприводы (5 В). Для этого используются три DC/DC преобразователя MP1584EN, на входы которых подается напряжение АКБ.

Имеет разъемы (типа picoblade) USART, I2C, SPI, CAN для подключения внешних устройств, гнездо USB Type-C для питания Orange Pi. Помимо того на плате два силовых разъема XT60 для подключения АКБ (от 2S до 6S) и ESC, 13 ШИМ-выходов сервоприводов/моторов.

На плате микросхема OSD-генератора AT7456, который подключен к микроконтроллеру через межплатный разъем (SPI). Для подключения камеры и VTX на плате 2 разъема типа picoblade. Напряжение питания камеры - 5 В, напряжение питания VTX соответствует напряжению АКБ.

На плате 2 светодиода, 1 кнопка (BOOT, для программирования в режиме DFU).
